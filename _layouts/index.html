---
layout: base
---
<article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">
  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">{{ page.title | escape }}</h1>
    <div class="post-meta">
      {%- if page.date -%}
        {%- assign date_format = site.minima.date_format | default: "%b %-d, %Y" -%}
        <time class="dt-published" datetime="{{ page.date | date_to_xmlschema }}" itemprop="datePublished">
          {{ page.date | date: date_format }}
        </time>
      {%- endif -%}

      {%- if page.bio -%}
      {{ page.bio | markdownify }}
      {%- endif -%}
    </div>
  </header>

  <div class="post-content e-content" itemprop="articleBody">
    {{ content }}
  </div>

  {%- assign sorted_posts = site.posts | sort: 'date' | reverse -%}
  {%- for post in sorted_posts -%}
    {%- if post.url == page.url -%}
      {%- assign current_index = forloop.index0 -%}
      {%- assign previous_index = current_index | plus: 1 -%}
      {%- assign next_index = current_index | minus: 1 -%}
      {%- if previous_index < sorted_posts.size -%}
        {%- assign previous_post = sorted_posts[previous_index] -%}
      {%- endif -%}
      {%- if next_index >= 0 -%}
        {%- assign next_post = sorted_posts[next_index] -%}
      {%- endif -%}
      {%- break -%}
    {%- endif -%}
  {%- endfor -%}

  <nav class="post-navigation">
    <div class="post-nav-wrapper">
      {%- if previous_post -%}
        <div class="post-nav-item post-nav-previous">
          <a href="{{ previous_post.url | relative_url }}" class="post-nav-link">
            <span class="post-nav-label">← Previous</span>
            <span class="post-nav-title">{{ previous_post.title | escape }}</span>
          </a>
        </div>
      {%- else -%}
        <div class="post-nav-item post-nav-previous"></div>
      {%- endif -%}
      
      {%- if next_post -%}
        <div class="post-nav-item post-nav-next">
          <a href="{{ next_post.url | relative_url }}" class="post-nav-link">
            <span class="post-nav-label">Next →</span>
            <span class="post-nav-title">{{ next_post.title | escape }}</span>
          </a>
        </div>
      {%- endif -%}
    </div>
  </nav>

  {% if jekyll.environment == 'production' -%}
    {% if page.comments == false -%}
    <div class="comments-disabled-message">
      Comments have been disabled for this post.
    </div>
    {% else -%}
      {%- include comments.html -%}
    {% endif -%}
  {% endif -%}

  <a class="u-url" href="{{ page.url | relative_url }}" hidden></a>
</article>

